<mvc:View controllerName="balatro.balatro.controller.Hand"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:dnd="sap.ui.core.dnd"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.f"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:table="sap.ui.table"
    xmlns="sap.m">
    <f:DynamicPage>
        <f:header>
            <f:DynamicPageHeader pinnable="true">
                <f:content>
                    <fb:FilterBar id="FilterBar" persistencyKey="myPersKey"
                        useToolbar="false" search=".onSearch"
                        filterChange=".onFilterChange"
                        afterVariantLoad=".onAfterVariantLoad">
                        <fb:filterGroupItems>
                            <fb:FilterGroupItem name="Suche" groupName="StrukturierteAnsicht"
                                label="Suche" visibleInFilterBar="true">
                                <fb:control>
                                    <SearchField
                                        id="searchField"
                                        placeholder="Suchen..."
                                        liveChange=".onSelectionChange"
                                        search="onSearch" />
                                </fb:control>
                            </fb:FilterGroupItem>
                        </fb:filterGroupItems>
                    </fb:FilterBar>
                </f:content>
            </f:DynamicPageHeader>
        </f:header>
        <f:content>
            <Table
                id="Table"
                growing="true"
                growingThreshold="10"
                alternateRowColors="false"
                mode="MultiSelect"
                items="{
                    path: 'mappedData>/',
                    factory: '.createTableItem'}" />
        </f:content>
        <!-- cards>/cards -->
        <!-- <HBox
            id="HBoxHandCards"
            items="{ 
            path: 'to_Cards',
            filters: [{
                path: 'IsHandcard',
                operator: 'EQ',
                value1: true
            }],
            sorter: [{
                path: 'DisplayPos',
                descending: true
            }]}"
            alignItems="End"
            width="{Settings>/totalwidth}px"
            height="{= ${Settings>/height} * 1.2}px">
            <items>
                <VBox
                    height="{= ${Settings>/height} * (${IsSelected} ? 1.2 : 1)}px"
                    width="{ 
                    formatter: '.formatter.formatWidth',
                    parts: [
                        'Settings>/width',
                        'Settings>/totalwidth',
                        '${$index}'
                        ]
                    }">
                    <dragDropConfig>
                        <dnd:DropInfo
                            groupName="cards"
                            drop="onDrop" />
                    </dragDropConfig>
                    <VBox
                        height="0"
                        width="0">
                        <Image
                            mode="Image"
                            height="{Settings>/height}px"
                            width="{Settings>/width}px"
                            press=".onSelectCard"
                            src="{
                            formatter: '.formatter.formatEnhancement',
                            parts: [
                                'Enhancement'
                                ] 
                            }" />
                    </VBox>

                    <VBox
                        height="0"
                        width="0">
                        <Image
                            mode="Image"
                            height="{Settings>/height}px"
                            width="{Settings>/width}px"
                            press=".onSelectCard"
                            src="{=
                            ${Enhancement} === 6 ? '' :
                            ${ 
                                formatter: '.formatter.formatValue',
                                parts: [
                                    'Color',
                                    'Value'
                                    ] 
                            } }" />
                    </VBox>
                    <VBox
                        height="0"
                        width="0">
                        <Image
                            mode="Image"
                            height="{Settings>/height}px"
                            width="{Settings>/width}px"
                            press=".onSelectCard"
                            src="{
                            formatter: '.formatter.formatEdition',
                            parts: [
                                'Edition'
                                ] 
                            }" />
                    </VBox>
                    <VBox
                        height="0"
                        width="0">

                        <Image
                            mode="Image"
                            height="{Settings>/height}px"
                            width="{Settings>/width}px"
                            press=".onSelectCard"
                            src="{
                            formatter: '.formatter.formatSeal',
                            parts: [
                                'Seal'
                                ] 
                        }">

                            <dragDropConfig>
                                <dnd:DragInfo
                                    groupName="cards" />
                            </dragDropConfig>
                        </Image>
                    </VBox>
                </VBox>
            </items>
        </HBox>
        <HBox alignItems="Center" width="100%">
            <Button text="Sort by Color" press=".sortByColor" />
            <Button text="Sort by Value" press=".sortByValue" />
            <Button text="Draw Card" press=".onDrawCard" />
            <Button text="Discard" press=".onDiscardCards" />
        </HBox> -->
    </f:DynamicPage>
</mvc:View>